var ScrollHanko=function(){'use strict';var o=Element.prototype,q=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector,s=function(Da,Ea){if(q)return q.call(Da,Ea);for(var Fa=Da.parentNode.querySelectorAll(Ea),Ga=0;Ga<Fa.length;++Ga)if(Fa[Ga]==Da)return!0;return!1},t=function(Da,Ea,Fa){for(var Ga=Fa?Da:Da.parentNode;Ga&&Ga!==document;){if(s(Ga,Ea))return Ga;Ga=Ga.parentNode}},u=function(Da){var Ea=typeof Da;return null!=Da&&('object'==Ea||'function'==Ea)},v='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,w='object'==typeof v&&v&&v.Object===Object&&v,z='object'==typeof self&&self&&self.Object===Object&&self,A=w||z||Function('return this')(),B=A,G=B.Symbol,H=G,I=H,J=Object.prototype,K=J.hasOwnProperty,L=J.toString,M=I?I.toStringTag:void 0,O=Object.prototype,P=O.toString,R=H,S=function(Da){var Ea=K.call(Da,M),Fa=Da[M];try{Da[M]=void 0}catch(Ia){}var Ha=L.call(Da);return Ea?Da[M]=Fa:delete Da[M],Ha},T=function(Da){return P.call(Da)},W=R?R.toStringTag:void 0,Z=function(Da){return null==Da?void 0===Da?'[object Undefined]':'[object Null]':W&&W in Object(Da)?S(Da):T(Da)},$=function(Da){return null!=Da&&'object'==typeof Da},ba=u,ca=function(Da){return'symbol'==typeof Da||$(Da)&&Z(Da)=='[object Symbol]'},da=0/0,ea=/^\s+|\s+$/g,fa=/^[-+]0x[0-9a-f]+$/i,ga=/^0b[01]+$/i,ha=/^0o[0-7]+$/i,ia=parseInt,la=function(){return B.Date.now()},ma=function(Da){if('number'==typeof Da)return Da;if(ca(Da))return da;if(ba(Da)){var Ea='function'==typeof Da.valueOf?Da.valueOf():Da;Da=ba(Ea)?Ea+'':Ea}if('string'!=typeof Da)return 0===Da?Da:+Da;Da=Da.replace(ea,'');var Fa=ga.test(Da);return Fa||ha.test(Da)?ia(Da.slice(2),Fa?2:8):fa.test(Da)?da:+Da},oa=Math.max,pa=Math.min,qa=function(Da,Ea,Fa){function Ga(Za){var $a=Pa,_a=Qa;return Pa=Qa=void 0,Va=Za,Sa=Da.apply(_a,$a),Sa}function Ha(Za){return Va=Za,Ta=setTimeout(Ka,Ea),Wa?Ga(Za):Sa}function Ia(Za){var $a=Za-Ua,_a=Za-Va,ab=Ea-$a;return Xa?pa(ab,Ra-_a):ab}function Ja(Za){var $a=Za-Ua,_a=Za-Va;return void 0===Ua||$a>=Ea||0>$a||Xa&&_a>=Ra}function Ka(){var Za=la();return Ja(Za)?La(Za):void(Ta=setTimeout(Ka,Ia(Za)))}function La(Za){return(Ta=void 0,Ya&&Pa)?Ga(Za):(Pa=Qa=void 0,Sa)}function Oa(){var Za=la(),$a=Ja(Za);if(Pa=arguments,Qa=this,Ua=Za,$a){if(void 0===Ta)return Ha(Ua);if(Xa)return Ta=setTimeout(Ka,Ea),Ga(Ua)}return void 0===Ta&&(Ta=setTimeout(Ka,Ea)),Sa}var Pa,Qa,Ra,Sa,Ta,Ua,Va=0,Wa=!1,Xa=!1,Ya=!0;if('function'!=typeof Da)throw new TypeError('Expected a function');return Ea=ma(Ea)||0,u(Fa)&&(Wa=!!Fa.leading,Xa='maxWait'in Fa,Ra=Xa?oa(ma(Fa.maxWait)||0,Ea):Ra,Ya='trailing'in Fa?!!Fa.trailing:Ya),Oa.cancel=function(){void 0!==Ta&&clearTimeout(Ta),Va=0,Pa=Ua=Qa=Ta=void 0},Oa.flush=function(){return void 0===Ta?Sa:La(la())},Oa},ua=function(Da,Ea,Fa){var Ga=!0,Ha=!0;if('function'!=typeof Da)throw new TypeError('Expected a function');return u(Fa)&&(Ga='leading'in Fa?!!Fa.leading:Ga,Ha='trailing'in Fa?!!Fa.trailing:Ha),qa(Da,Ea,{leading:Ga,maxWait:Ea,trailing:Ha})},va=v.CustomEvent,wa=function(){try{var Da=new va('cat',{detail:{foo:'bar'}});return'cat'===Da.type&&'bar'===Da.detail.foo}catch(Ea){}return!1}()?va:'undefined'!=typeof document&&'function'==typeof document.createEvent?function(Ea,Fa){var Ga=document.createEvent('CustomEvent');return Fa?Ga.initCustomEvent(Ea,Fa.bubbles,Fa.cancelable,Fa.detail):Ga.initCustomEvent(Ea,!1,!1,void 0),Ga}:function(Ea,Fa){var Ga=document.createEventObject();return Ga.type=Ea,Fa?(Ga.bubbles=!!Fa.bubbles,Ga.cancelable=!!Fa.cancelable,Ga.detail=Fa.detail):(Ga.bubbles=!1,Ga.cancelable=!1,Ga.detail=void 0),Ga},xa=function(Da,Ea){if(!(Da instanceof Ea))throw new TypeError('Cannot call a class as a function')},ya=function(){function Da(Ea,Fa){for(var Ha,Ga=0;Ga<Fa.length;Ga++)Ha=Fa[Ga],Ha.enumerable=Ha.enumerable||!1,Ha.configurable=!0,'value'in Ha&&(Ha.writable=!0),Object.defineProperty(Ea,Ha.key,Ha)}return function(Ea,Fa,Ga){return Fa&&Da(Ea.prototype,Fa),Ga&&Da(Ea,Ga),Ea}}(),Ba=function(){function Da(Ea){var Fa=this;xa(this,Da),this.element=Ea,this.closest=function(){var Ha=Ea.getAttribute('data-hanko-closest');return Ha?t(Fa.element,Ha):null}(),null!==this.closest&&(this.element.style.width=this.setWidth()),this.element.classList.add('hanko-target'),this.element.classList.add('hanko-deactive'),this.entered=!1;var Ga={hanko:this};this.events={enter:new wa('hankoenter',{detail:Ga}),leave:new wa('hankoleave',{detail:Ga}),enterend:new wa('hankoenterend',{detail:Ga}),leaveend:new wa('hankoleaveend',{detail:Ga})},this.handleTransitionend=this.createTransitionendHandler(),this.element.addEventListener('transitionend',this.handleTransitionend)}return ya(Da,[{key:'setWidth',value:function(){var Fa=window.getComputedStyle(this.closest);return'calc('+Fa.width+' - '+Fa.paddingLeft+' - '+Fa.paddingRight+')'}},{key:'hasTransition',value:function(){var Fa=window.getComputedStyle(this.element);return'0s'!==Fa.transitionDuration}},{key:'createTransitionendHandler',value:function(){var Fa=this;return function(){Fa.element.classList.remove('hanko-enter-to'),Fa.element.classList.remove('hanko-leave-to'),Fa.entered?Fa.element.dispatchEvent(Fa.events.enterend):Fa.element.dispatchEvent(Fa.events.leaveend)}}},{key:'refresh',value:function(){var Fa=this.element.getBoundingClientRect(),Ga=Fa.top;this.offsetTop=Math.floor(Ga+window.pageYOffset),this.entered?null!==this.closest&&(this.element.width=this.setWidth()):this.element.style.width=''}},{key:'isEnter',value:function(){var Fa=this.element.getBoundingClientRect(),Ga=Fa.top,Ha=Math.floor(Ga+window.pageYOffset),Ia=document.body.scrollTop;return Ha-this.offsets[0]<=Ia&&Ha-this.offsets[1]+this.height>Ia}},{key:'enter',value:function(){var Fa=this;this.entered||(this.entered=!0,this.element.classList.remove('hanko-deactive'),this.element.classList.remove('hanko-leave'),this.element.classList.remove('hanko-leave-to'),this.element.classList.add('hanko-enter'),this.element.style.transition='none',setTimeout(function(){Fa.element.classList.remove('hanko-enter'),Fa.element.classList.add('hanko-active'),Fa.element.style.transition='',Fa.hasTransition()&&Fa.element.classList.add('hanko-enter-to')},1),this.element.dispatchEvent(this.events.enter))}},{key:'leave',value:function(){var Fa=this;this.entered&&(this.entered=!1,this.element.classList.remove('hanko-active'),this.element.classList.remove('hanko-enter'),this.element.classList.remove('hanko-enter-to'),this.element.classList.add('hanko-leave'),this.element.style.transition='none',setTimeout(function(){Fa.element.classList.remove('hanko-leave'),Fa.element.classList.add('hanko-deactive'),Fa.element.style.transition='',Fa.hasTransition()&&Fa.element.classList.add('hanko-leave-to')},1),this.element.dispatchEvent(this.events.leave))}},{key:'height',get:function(){return this.element.clientHeight}},{key:'halfHeight',get:function(){return Math.round(this.element.clientHeight/2)}},{key:'offsets',get:function(){var Fa=this,Ga=(this.element.getAttribute('data-hanko-offset')||'').split(' ');2<Ga.length&&console.warn('Specify up to two.',Ga);for(var Ha=Ga.slice(0,2);2!==Ha.length;)Ha.push(0);return Ha.map(function(Ia){switch(Ha){case'center':return Math.round(window.innerHeight/2)-Fa.halfHeight;case'bottom':return Math.round(window.innerHeight/2)-Fa.height;case'top':default:{if(/px|r?em|%|vw|vh|vmax|vmin/.test(Ia)){var Ja=document.createElement('div');Object.assign(Ja.style,{position:'absolute',left:'9999px',top:'9999px',width:Ia}),Fa.element.parentElement.insertBefore(Ja,Fa.element);var Ka=+getComputedStyle(Ja).width.match(/^\d+/)[0];return Fa.element.parentElement.removeChild(Ja),Ja=null,Ka}return 0}}})}}]),Da}(),Ca=function(){function Da(Ea){var Fa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{scrollWait:20,resizeWait:50};xa(this,Da),Ea instanceof HTMLCollection&&(Ea=Array.prototype.slice.call(Ea)),this.hankos=Ea.map(function(Ga){return new Ba(Ga)}),this.opts=Fa,this.handleThrottleScroll=this.createThrottleScrollHandler(),this.handleDebounceScroll=this.createDebounceScrollHandler(),this.handleThrottleResize=this.createThrottleResizeHandler(),this.handleDebounceResize=this.createDebounceResizeHandler(),this.active=null}return ya(Da,[{key:'leave',value:function(Fa){Array.isArray(Fa)?this.hankos.forEach(function(Ga){-1===Fa.indexOf(Ga)&&Ga.leave()}):this.hankos.forEach(function(Ga){return Ga.leave()})}},{key:'handleScroll',value:function(){this.hankos.forEach(function(){return function(Fa){var Ga=Fa.isEnter();Ga?Fa.enter():Fa.leave()}}())}},{key:'createThrottleScrollHandler',value:function(){return ua(this.handleScroll.bind(this),this.opts.scrollWait||20)}},{key:'createDebounceScrollHandler',value:function(){return qa(this.handleScroll.bind(this),this.opts.scrollWait||20)}},{key:'refresh',value:function(){this.hankos.forEach(function(Fa){Fa.refresh()})}},{key:'handleResize',value:function(){this.refresh()}},{key:'createThrottleResizeHandler',value:function(){return ua(this.handleResize.bind(this),this.opts.resizeWait||50)}},{key:'createDebounceResizeHandler',value:function(){return ua(this.handleResize.bind(this),this.opts.resizeWait||50)}},{key:'init',value:function(){window.addEventListener('scroll',this.handleThrottleScroll),window.addEventListener('scroll',this.handleDebounceScroll),window.addEventListener('resize',this.handleThrottleResize),window.addEventListener('resize',this.handleDebounceResize)}},{key:'refs',get:function(){return this.hankos.reduce(function(Fa,Ga){var Ha=Ga.element.getAttribute('data-hanko-ref');return Ha&&(Fa[Ha]=Ga),Fa},{})}}]),Da}();return Ca}();
